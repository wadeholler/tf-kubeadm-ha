apiVersion: kubeadm.k8s.io/v1alpha2
kind: MasterConfiguration
kubernetesVersion: v1.11.0
apiServerCertSANs:
- "{{ kubernetes_api_lb_name }}"
api:
    controlPlaneEndpoint: "{{ kubernetes_api_lb_name }}:6443"
etcd:
    external:
        endpoints:
        - https://{{ groups['role_etcd'][0] }}:2379
        - https://{{ groups['role_etcd'][1] }}:2379
        - https://{{ groups['role_etcd'][2] }}:2379
        caFile: /etc/kubernetes/pki/etcd/ca.crt
        certFile: /etc/kubernetes/pki/apiserver-etcd-client.crt
        keyFile: /etc/kubernetes/pki/apiserver-etcd-client.key
networking:
    # This CIDR is a calico default. Substitute or remove for your CNI provider.
    podSubnet: "192.168.0.0/16"
#apiServerExtraArgs:
#  cloud-provider: aws
#controllerManagerExtraArgs:
#  cloud-provider: aws
#nodeRegistration:
#  kubeletExtraArgs:
#    cloud-provider: aws
